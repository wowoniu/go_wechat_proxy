<html>

<head>
<script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
<link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/css/bootstrap-reboot.min.css" rel="stylesheet">
</head>

<body>


<div class="container-fluid">

</div>

</body>

<script>

var ws=new WebSocket("ws://127.0.0.1:8082/ws");

ws.onmessage=function(msgEvent){
	console.log(msgEvent.data)
}

ws.onopen=function(event){
	ws.send(buildMessage("123456789","init"))
}

var sendMsg=function(msg){
	return ws.send(msg)
}

function buildMessage(data,method,errCode,errMsg){
    method=method?method:"localResponse";
	var data={
	    "method":method,
		"body":{
	        "err_code":errCode,
			"err_msg":errMsg,
			"data":data
		}
	}
	return JSON.stringify(data)
}

</script>

</html>